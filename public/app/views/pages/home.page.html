<div class="row">
	<div class="col-md-4">
		<art-side-panel title="'My Requests'" items="vm.relatedRequests.myRequests"></art-side-panel>	
		<art-side-panel title="'Awaiting My Action'" items="vm.relatedRequests.pendingActions"></art-side-panel>	
	</div>

	<div class="col-md-8">
		<form class="form-horizontal">
			<div class="form-group">
				<div class="col-md-12">
					<input class="form-control" 
					       placeholder="Search..."
					       type="text"
					       name="search" 
					       required 
					       data-ng-model="vm.searchText" 
					       data-ng-change="vm.reloadProjects();">
				</div>	
			</div>
		</form>
		<p data-ng-show="vm.searching"><i>Searching&nbsp;&nbsp;<i class="fa fa-spinner" aria-hidden="true"></i>
</i></p>
		<div class="table-responsive project-table">
			<table class="table table-condensed">
				<tbody>
					<tr data-ng-repeat="project in vm.projects | orderBy: 'applicationName'">
						<td>
							<div class="project-entry">
								<strong><a class="text-default appname" data-ng-href="/#/project/{{project._id}}">{{project.applicationName}}</a></strong>
								<p><small><strong>Project ID:</strong> {{project.projectId}}</small></p>
								<p><small>{{project.description}}</small></p>
								<hr>
								<p>
									<a data-toggle="collapse" 
									   data-target="#problem-entry-{{$index}}" 
									   href="">({{project.problemRequests.length}}) Problem Requests</a>&nbsp;| 
									<a href="" data-ng-click="vm.newProblem(project);" class="text-danger"> New Problem*</a>
								</p>
								<ul class="list-group collapse"  id="problem-entry-{{$index}}">
								  <li class="list-group-item" 
								  	  data-ng-repeat="problem in project.problemRequests" >
								  	  <a href="" data-ng-click="vm.editProblem(project, problem._id);"
								  	  	 data-ng-class = "{'text-success': problem.status === 'Closed'}">
								  	  	{{problem.problemNumber}} | {{problem.status}} | {{problem.problemSummary}} 
								  	  </a>
								  </li>
								</ul>
								<p>
									<a data-toggle="collapse" 
									   data-target="#change-entry-{{$index}}" 
									   href="">(0) Change Requests</a>&nbsp;&nbsp;&nbsp;| 
									<a href="" class="text-danger"> New Change*</a>
								</p>
								<ul class="list-group collapse" id="change-entry-{{$index}}">
								  <li class="list-group-item">Cras justo odio</li>
								  <li class="list-group-item">Dapibus ac facilisis in</li>
								  <li class="list-group-item">Morbi leo risus</li>
								  <li class="list-group-item">Porta ac consectetur ac</li>
								  <li class="list-group-item">Vestibulum at eros</li>
								</ul>
							</div>						
						</td>
					</tr>	

					<tfoot>
						<tr>
							<td>
								<button type="button" 
										class="btn btn-primary" 
										data-ng-click="vm.loadMoreProjects();"
										data-ng-show="vm.showLoadMore();" >Load More...</button>
								<p class="text-center" data-ng-show="(vm.recordFetchCount==0)"><i>No Projects Found!</i></p>
							</td>
						</tr>
					</tfoot>

				</tbody>

			</table>			
		</div>
	</div>

	<art-projects-dialog id="projectDialog" 
						 class="modal fade" 
						 role="dialog"
						 resource="'problem'" >
	</art-projects-dialog>

</div>